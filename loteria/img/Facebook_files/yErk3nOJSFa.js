/*!CK:2211913255!*//*1413170780,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ndtes"]); }

__d("VideoPlayerInitializationEvents",[],function(a,b,c,d,e,f){e.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};},null);
__d("VideoPlayerLoggerSources",[],function(a,b,c,d,e,f){e.exports={ADS:"ads",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",EMBEDDED:"embedded",HTML5:"html5",INLINE:"inline",CHAINED:"chained",INSIGHTS:"insights",LOOKBACK:"lookback",MISC:"misc",MOBILE:"mobile",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",REPORT_FLOW:"report_flow",SNOWLIFT:"snowlift",TRAILER_LANDING_PAGE:"trailer_previews_landing_page",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit"};},null);
__d("VideoPlayerLoggerErrors",[],function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};},null);
__d("VideoPlayerLoggerErrorStates",[],function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};},null);
__d("VideoPlayerLoggerFallbackReasons",[],function(a,b,c,d,e,f){e.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};},null);
__d("VideoPlayerLoggerPlayerStates",[],function(a,b,c,d,e,f){e.exports={STARTED:'started',UNPAUSED:'unpaused'};},null);
__d("VideoPlayerLogger",["Banzai","ErrorUtils","TimeSpentImmediateActiveSecondsLogger","VideoPlayerLoggerEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSources","VideoPlayerLoggerPlayerStates","copyProperties","ex"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r='video_player';function s(t,u){"use strict";this.$VideoPlayerLogger0=t;this.$VideoPlayerLogger1=null;this.$VideoPlayerLogger2={};this.$VideoPlayerLogger3=u;this.$VideoPlayerLogger4();}s.prototype.logEvent=function(event,t){"use strict";p(t,this.$VideoPlayerLogger3);if(this.$VideoPlayerLogger2.hasOwnProperty(event)){t.initial_event=false;}else t.initial_event=this.$VideoPlayerLogger2[event]=true;if(!t.hasOwnProperty('time'))t.time=Math.round(Date.now()/1000);t.time_ms=Date.now();if(this.$VideoPlayerLogger1)p(t,this.$VideoPlayerLogger1);switch(event){case j.REQUESTED_PLAYING:this.$VideoPlayerLogger4();this.$VideoPlayerLogger5();this.$VideoPlayerLogger6=true;if(this.$VideoPlayerLogger2[j.STARTED_PLAYING]){t.state=o.UNPAUSED;}else t.state=o.STARTED;break;case j.STARTED_PLAYING:case j.UNPAUSED:case j.FINISHED_PLAYING:case j.CANCELLED_REQUESTED_PLAYING:case j.ERROR:case j.PAUSED:if(event===j.ERROR&&t.state!==l.PLAYBACK_FAILURE)break;if(event===j.CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger2[j.STARTED_PLAYING]){t.state=o.UNPAUSED;}else t.state=o.STARTED;if(this.$VideoPlayerLogger6)this.$VideoPlayerLogger7();this.$VideoPlayerLogger8(t);this.$VideoPlayerLogger4();break;}var u={logData:t,event:event,scriptPath:this.$VideoPlayerLogger9,source:this.$VideoPlayerLogger0};if(!event)h.reportError(new Error(q('VideoPlayerLogger: Missing event name')),false);if(t.ad_client_token){g.post(r,u,g.VITAL);}else g.post(r,u);if(event===j.FINISHED_PLAYING||event===j.PAUSED){var v=t.time_ms||Date.now(),w=t.video_time_position-t.video_last_start_time_position;if(w>=0)i.maybeReportActiveInterval('video',v-Math.floor(w*1000),v);}};s.prototype.setScriptPath=function(t){"use strict";this.$VideoPlayerLogger9=t;};s.prototype.setFTData=function(t){"use strict";this.$VideoPlayerLogger1=t;};s.prototype.startBuffering=function(){"use strict";this.$VideoPlayerLogger5();};s.prototype.endBuffering=function(){"use strict";if(this.$VideoPlayerLoggera>0)this.$VideoPlayerLogger7();};s.prototype.$VideoPlayerLogger5=function(){"use strict";this.$VideoPlayerLoggera=Date.now();};s.prototype.$VideoPlayerLogger7=function(){"use strict";this.$VideoPlayerLoggerb=this.$VideoPlayerLoggerb+(Date.now()-this.$VideoPlayerLoggera);this.$VideoPlayerLoggerc++;};s.prototype.$VideoPlayerLogger8=function(t){"use strict";if(t.player_version==='silvercity'){t.stall_time=Math.max(0,this.$VideoPlayerLoggerb);t.stall_count=this.$VideoPlayerLoggerc;}};s.prototype.$VideoPlayerLogger4=function(){"use strict";this.$VideoPlayerLoggerb=0;this.$VideoPlayerLoggera=0;this.$VideoPlayerLoggerc=0;this.$VideoPlayerLogger6=false;};p(s,{Sources:n,Errors:k,FallbackReasons:m,ErrorStates:l,PlayerStates:o});e.exports=s;},null);
__d("flash-js",["copyProperties"],function(a,b,c,d,e,f,g){function h(){}g(h,{INIT:'flash/init',READY:'flash/ready',FAILED:'flash/failed'});e.exports=h;},null);
__d("legacy:flash-js",["flash-js"],function(a,b,c,d){a.Flash=b('flash-js');},3);
__d("getLayoutRoot",["DOMQuery","csx"],function(a,b,c,d,e,f,g,h){var i=null;function j(){if(!i)i=g.scry(document.body,"._li")[0];return i;}e.exports=j;},null);
__d("PhotoUtils",["Event","URI"],function(a,b,c,d,e,f,g,h){var i={getImagesFromData:function(j){var k=[];for(var l in j)if(l.indexOf('image')===0)k.push(j[l]);return k;},getFBIDFromData:function(j){return j&&j.id;},getOriginalImageFromData:function(j){return j.original||j.download_image;},getDownloadURLFromData:function(j){var k=this.getOriginalImageFromData(j);if(!k)return null;var l=new h(k.uri);l.addQueryData({dl:1});return l;},getPermalinkFromData:function(j){return j.permalink;},canViewerMakeCoverPhoto:function(j){return !!j.can_viewer_make_cover_photo;},getCoverPhotoURLFromData:function(j){return new h('/profile.php').addQueryData({preview_cover:i.getFBIDFromData(j)});},preload:function(j,k,l){var m=j.getDimensions();for(var n=0;n<k.length;++n){var o=m.getBestFitImageFromPhoto(k[n],m.getMaxStageDimensions()),p=new Image();l&&g.listen(p,'load',l.bind(null,k[n]));j.getLogger().log(o.uri);p.src=o.uri;}}};e.exports=i;},null);
__d("SpotlightViewerClose",["React","ReactPropTypes","TooltipLink.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.createClass({displayName:'SpotlightViewerClose',propTypes:{position:h.oneOf(['left','right'])},getDefaultProps:function(){return {position:'right'};},render:function(){var n=(this.props.position=='left')?"_5wx3":"_5wx4",o=g.createElement("span",null,"Presiona Esc para cerrar");return (g.createElement(i,{className:l("_4-o9 _50-m _51an",n),onClick:this.props.onClick,tooltip:o}));}});e.exports=m;},null);
__d("SpotlightViewport",["Locale","Parent","React","ReactPropTypes","Vector","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({displayName:'SpotlightViewport',propTypes:{stageDimensions:j.object.isRequired},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},getInitialState:function(){return {currentActiveSection:this.sections.NONE,active:true};},_onMouseMove:function(event){var o=k.getEventPosition(event.nativeEvent),p=k.getElementPosition(this.getDOMNode()),q,r=o.x-p.x,s=r/this.props.stageDimensions.x;if(g.isRTL()){q=s>(1-this.PAGE_TO_PREV_PERCENTAGE);}else q=s<this.PAGE_TO_PREV_PERCENTAGE;if(q){this.setState({currentActiveSection:this.sections.BACKWARD});}else this.setState({currentActiveSection:this.sections.FORWARD});},_onClick:function(event){var o=this.state.currentActiveSection==this.sections.FORWARD,p=event.target;if(!h.byClass(p,"_51an"))this.props.onClick&&this.props.onClick(o);},_onMouseEnter:function(){this.setState({active:true});},_onMouseLeave:function(){this.setState({active:false});},render:function(){var o=(("_4-of")+(!this.state.active&&!this.props.active?' '+"_50-l":'')+(this.state.currentActiveSection===this.sections.BACKWARD?' '+"_516a":'')+(this.state.currentActiveSection===this.sections.FORWARD?' '+"_516b":'')+(this.props.showLoadingIndicator?' '+"_51jp":''));if(this.props.className)o=m(o,this.props.className);return (i.createElement("div",{className:o,style:{width:this.props.stageDimensions&&this.props.stageDimensions.x,height:this.props.stageDimensions&&this.props.stageDimensions.y},onClick:this._onClick,onMouseMove:this._onMouseMove,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.props.children,i.createElement("div",{className:"_4-og"},i.createElement("span",{className:"_4-oh"}),this.props.media,i.createElement("div",{className:"_4-oi"}))));}});e.exports=n;},null);
__d("SpotlightViewerUnmountOnClose",[],function(a,b,c,d,e,f){function g(h){"use strict";this.$SpotlightViewerUnmountOnClose0=h;}g.prototype.enable=function(){"use strict";this.$SpotlightViewerUnmountOnClose1=this.$SpotlightViewerUnmountOnClose0.subscribeOnce('close',this.$SpotlightViewerUnmountOnClose0.unmountComponent.bind(this.$SpotlightViewerUnmountOnClose0));};g.prototype.disable=function(){"use strict";this.$SpotlightViewerUnmountOnClose1&&this.$SpotlightViewerUnmountOnClose1.unsubscribe();delete this.$SpotlightViewerUnmountOnClose1;};e.exports=g;},null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){var k={verticalPadding:'number',horizontalPadding:'number',normalResDim:'object'};function l(m){"use strict";for(var n in m){if(!k[n])throw new Error("Unsupported extraData value '"+n+"' should not be used");if(typeof m[n]===k[n])this['_'+n]=m[n];}this._listener=g.listen(window,'resize',this._resetMaxStageDimensions.bind(this));}l.prototype.destroy=function(){"use strict";this._listener.remove();};l.prototype.getStageDimensions=function(m){"use strict";var n=this.getMaxStageDimensions(),o=new i(Math.min(m.x,n.x),Math.min(m.y,n.y)),p=o.x/o.y,q=m.x/m.y;if(p<q){o.y=Math.round(o.x/q);}else o.x=Math.round(o.y*q);return o;};l.prototype.getImageDimensionsForStage=function(m,n){"use strict";var o=m.x,p=m.y,q=n.x,r=n.y;if(o>=q||p>=r){var s=o/p,t=q/r;if(t<s){o=q;p=Math.round(q/s);}else if(t>s){o=Math.round(r*s);p=r;}else{o=q;p=r;}}return new i(o,p);};l.prototype.getMaxStageDimensions=function(){"use strict";if(!this._maxStageDimensions)this._maxStageDimensions=new i(i.getViewportDimensions().x-this._horizontalPadding,i.getViewportDimensions().y-this._verticalPadding);return this._maxStageDimensions;};l.prototype._resetMaxStageDimensions=function(){"use strict";this._maxStageDimensions=null;};l.prototype.getBestFitImageFromPhoto=function(m,n){"use strict";var o=null,p=h.getImagesFromData(m);p=p.sort(function(r,s){return s.width-r.width;});if(window.devicePixelRatio&&window.devicePixelRatio>1)n=new i(n.x*window.devicePixelRatio,n.y*window.devicePixelRatio);for(var q=0;q<p.length;q++)if(!o||p[q].width>=n.x||p[q].height>=n.y)o=p[q];return o;};l.prototype.getOriginalDimensionsFromPhoto=function(m){"use strict";var n=h.getOriginalImageFromData(m);return new i(n.width,n.height);};l.prototype.getBestFitDimensionsFromPhoto=function(m,n){"use strict";var o=this.getBestFitImageFromPhoto(m,n);return new i(o.width,o.height);};l.prototype.getVerticalPadding=function(){"use strict";return this._verticalPadding;};l.prototype.getHorizontalPadding=function(){"use strict";return this._horizontalPadding;};j(l.prototype,{_verticalPadding:40,_horizontalPadding:60,_normalResDim:{x:960,y:960}});e.exports=l;},null);
__d("legacy:swfobject",["swfobject"],function(a,b,c,d,e,f,g){a.deconcept=g;a.SWFObject=g.SWFObject;a.showFlashErrorDialog=g.showFlashErrorDialog;},3);
__d("VideoAutoplayControllerX",["DOMDimensions","Event","SubscriptionsHandler","VideoPlayerReason","Visibility","destroyOnUnload","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=null,o=500;function p(){"use strict";this.$VideoAutoplayControllerX0=null;this.$VideoAutoplayControllerX1=null;this.$VideoAutoplayControllerX2=new i();this.$VideoAutoplayControllerX3=new i();this.$VideoAutoplayControllerX4=[];this.setAutoplayInterval(o);l(function(){this.$VideoAutoplayControllerX5();if(this===n)n=null;}.bind(this));}p.prototype.setAutoplayInterval=function(q){"use strict";if(q===this.$VideoAutoplayControllerX6)return;this.$VideoAutoplayControllerX6=q;this.$VideoAutoplayControllerX7();};p.registerVideoUnit=function(q){"use strict";if(n==null)n=new p();n.$VideoAutoplayControllerX8();n.$VideoAutoplayControllerX4.push(q);if(q.isVisible())n.$VideoAutoplayControllerX9();};p.prototype.$VideoAutoplayControllerX5=function(){"use strict";this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX3.release();this.$VideoAutoplayControllerXa.remove();this.$VideoAutoplayControllerXa=null;};p.prototype.$VideoAutoplayControllerX8=function(){"use strict";if(!this.$VideoAutoplayControllerX4.length){this.$VideoAutoplayControllerX3.addSubscriptions(h.listen(window,'resize',this.$VideoAutoplayControllerX9.bind(this)),h.listen(window,'blur',this.$VideoAutoplayControllerXb.bind(this)),h.listen(window,'focus',this.$VideoAutoplayControllerXc.bind(this)),k.addListener(k.HIDDEN,this.$VideoAutoplayControllerXb.bind(this)),k.addListener(k.VISIBLE,this.$VideoAutoplayControllerXc.bind(this)));if(!this.$VideoAutoplayControllerXa)this.$VideoAutoplayControllerX7();}};p.prototype.$VideoAutoplayControllerX7=function(){"use strict";if(this.$VideoAutoplayControllerXa)this.$VideoAutoplayControllerXa.remove();this.$VideoAutoplayControllerXa=h.listen(window,'scroll',m(this.$VideoAutoplayControllerX9.bind(this),this.$VideoAutoplayControllerX6));};p.prototype.$VideoAutoplayControllerXd=function(){"use strict";var q=[];this.$VideoAutoplayControllerX4.forEach(function(r){if(r.isVisible()){q.push(r);if(!r.wasVisible){r.wasVisible=true;r.logDisplayed();}}else r.wasVisible=false;});return q;};p.prototype.$VideoAutoplayControllerXb=function(){"use strict";if(!this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0=this.$VideoAutoplayControllerX1;this.$VideoAutoplayControllerXe(j.PAGE_VISIBILITY);}};p.prototype.$VideoAutoplayControllerXc=function(){"use strict";if(this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0.playWithoutUnmute(j.PAGE_VISIBILITY);this.$VideoAutoplayControllerX1=this.$VideoAutoplayControllerX0;this.$VideoAutoplayControllerX0=null;}};p.prototype.$VideoAutoplayControllerXe=function(q){"use strict";if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerX1.pause(q);this.$VideoAutoplayControllerX1=null;}};p.prototype.$VideoAutoplayControllerXf=function(){"use strict";if(this.$VideoAutoplayControllerX1.addListener){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX2.engage();this.$VideoAutoplayControllerX2.addSubscriptions.apply(this.$VideoAutoplayControllerX2,['finishPlayback','turnOffAutoplay'].map(function(event){return this.$VideoAutoplayControllerX1.addListener(event,function(){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX1=null;}.bind(this));}.bind(this)));}};p.prototype.$VideoAutoplayControllerX9=function(){"use strict";var q=this.$VideoAutoplayControllerXd(),r=q.length,s=null;if(r==1){s=q[0];s=s.isAutoplayable()?s:null;}else if(r>1){var t=g.getViewportDimensions().height/2;q.forEach(function(u){if(!u.isAutoplayable())return;var v=u.getDOMPosition(),w=v.y+v.height/2,x=Math.abs(w-t);u.playPriority=x;if(!s||u.playPriority<s.playPriority)s=u;});}if(this.$VideoAutoplayControllerX1){if(s!=this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXe(j.AUTOPLAY);this.$VideoAutoplayControllerX1=s;if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXf();this.$VideoAutoplayControllerX1.playWithoutUnmute(j.AUTOPLAY);}}}else if(s){this.$VideoAutoplayControllerX1=s;this.$VideoAutoplayControllerXf();this.$VideoAutoplayControllerX1.playWithoutUnmute(j.AUTOPLAY);}};e.exports=p;},null);
__d("VideoPlayerAdditionalLogDataGetter",[],function(a,b,c,d,e,f){function g(h){"use strict";if(typeof h==='function'){this.$VideoPlayerAdditionalLogDataGetter0=null;this.$VideoPlayerAdditionalLogDataGetter1=h;}else{this.$VideoPlayerAdditionalLogDataGetter0=h;this.$VideoPlayerAdditionalLogDataGetter1=null;}}g.prototype.get=function(){"use strict";if(this.$VideoPlayerAdditionalLogDataGetter1)return this.$VideoPlayerAdditionalLogDataGetter1();return this.$VideoPlayerAdditionalLogDataGetter0;};e.exports=g;},null);
__d("SpotlightVideoDimensions",["PhotoViewerDimensions","Vector"],function(a,b,c,d,e,f,g,h){var i=520;function j(k){"use strict";this.$SpotlightVideoDimensions0=new g();this.$SpotlightVideoDimensions1=k;}j.prototype.getStageAndVideoDimensions=function(k){"use strict";var l=this.$SpotlightVideoDimensions0.getMaxStageDimensions(),m=this.$SpotlightVideoDimensions0.getImageDimensionsForStage(k,l.sub(this.$SpotlightVideoDimensions1,0)),n=new h(m.x+this.$SpotlightVideoDimensions1,Math.max(m.y,i));return {stageDimensions:n,videoDimensions:m};};e.exports=j;},null);
__d("VideoSpotlight",["LayerHideOnBlur","LayerHideOnEscape","ReactLayer","Spotlight","cx","getLayoutRoot","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({getDefaultEnabledBehaviors:function(){return {hideOnBlur:g,hideOnEscape:h};},createLayer:function(o){m(l());var p=this.enumerateBehaviors(this.props.behaviors),q={addedBehaviors:p,rootClassName:"_5v-m"},r=new j(q,o);r.conditionShow(this.props.shown);r.setInsertParent(l());if(this.props.onHide)r.subscribe('hide',this.props.onHide);return r;},receiveProps:function(o){this.layer.conditionShow(o.shown);}});e.exports=n;},null);
__d("SpotlightVideoViewer",["ArbiterMixin","BehaviorsMixin","Event","React","ReactLayeredComponentMixin","SpotlightVideoDimensions","SpotlightViewerClose","SpotlightViewerUnmountOnClose","SpotlightViewport","SubscriptionsHandler","Style","Vector","VideoSpotlight","cx","getViewportDimensions","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=360,x=j.createClass({displayName:'SpotlightVideoViewer',mixins:[g,h,k],behaviors:[n],componentWillMount:function(){this.enableBehaviors(this.behaviors);},componentDidMount:function(){this._subscriptions.addSubscriptions(i.listen(window,'resize',this._onResize));this._popOutVideo();},componentWillUnmount:function(){this._subscriptions.release();this.destroyBehaviors();},getInitialState:function(){this._dimensions=new l(w);this._originalDimensions=new r(this.props.videoElement.offsetWidth,this.props.videoElement.offsetHeight);this._targetDimensions=this._originalDimensions.mul(2);this._subscriptions=new p();return {dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)};},renderLayers:function(){var y={height:this.state.dimensions.stageDimensions.y+'px'};return {videoLayer:j.createElement(s,{onHide:this._popInVideo,shown:true},j.createElement("div",{className:"_n3"},j.createElement(o,{stageDimensions:this.state.dimensions.stageDimensions},j.createElement(m,{onClick:this._handleClose}),j.createElement("div",{className:"rfloat _5xg6",style:y},j.createElement("div",{className:"_5xg7"},' ',"UFI Section",' ')))))};},render:function(){return j.createElement("div",null);},_handleClose:function(){this.inform('close');},_onResize:function(){this.setState({dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)});this._repositionVideo();},_popOutVideo:function(){v(this.props.videoElement);q.apply(this.props.videoElement,{position:'fixed','z-index':'401'});this._repositionVideo();},_popInVideo:function(){this._handleClose();v(this.props.videoElement);var y=this._originalDimensions.x,z=this._originalDimensions.y;q.apply(this.props.videoElement,{left:0,height:z+'px',position:'static',top:0,width:y+'px','z-index':'auto'});q.apply(this.props.swfElement,{height:z+'px',width:y+'px'});},_repositionVideo:function(){var y=u.withoutScrollbars(),z=this.state.dimensions.videoDimensions.y,aa=this.state.dimensions.videoDimensions.x-1,ba=y.width/2-this.state.dimensions.stageDimensions.x/2+1,ca=y.height/2-z/2;q.apply(this.props.videoElement,{height:z+'px',left:ba+'px',top:ca+'px',width:aa+'px'});q.apply(this.props.swfElement,{height:z+'px',width:aa+'px'});}});e.exports=x;},null);
__d("VideoViewer",["DOM","React","SpotlightVideoViewer"],function(a,b,c,d,e,f,g,h,i){var j={_viewerContainer:null,bootstrapWithElement:function(k,l){var m=h.createElement(i,{swfElement:l,videoElement:k});j.renderViewer(m);},renderViewer:function(k){if(!this._viewerContainer){this._viewerContainer=g.create('div');document.body.appendChild(this._viewerContainer);}k=h.renderComponent(k,this._viewerContainer);k.subscribeOnce('close',function(){g.empty(this._viewerContainer);}.bind(this));}};e.exports=j;},null);
__d("logVideosClickTracking",["clickRefAction"],function(a,b,c,d,e,f,g){function h(i){g('click',i,null,'FORCE');}e.exports=h;},null);
__d("VideoPlayerUnitX",["Arbiter","AttachmentRelatedShareConstants","CSS","DOM","DOMDimensions","Event","EventEmitter","LitestandStoryInsertionStatus","PhotoSnowlift","Run","SubscriptionsHandler","VideoAutoplayPlayButton","VideoPlayerAdditionalLogDataGetter","VideoPlayerApiEvents","VideoPlayerLoggerEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoViewer","cx","logVideosClickTracking","VideoPlayerReason"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca=1,da=100,ea=10000;for(var fa in m)if(m.hasOwnProperty(fa))ha[fa]=m[fa];var ga=m===null?null:m.prototype;ha.prototype=Object.create(ga);ha.prototype.constructor=ha;ha.__superConstructor__=m;function ha(ia,ja){"use strict";ga.constructor.call(this);this.$VideoPlayerUnitX0=ja;this.$VideoPlayerUnitX1=ia;this.$VideoPlayerUnitX2=this.isAutoplayable();this.$VideoPlayerUnitX3=new q();this.$VideoPlayerUnitX4=null;p.onLeave(function(){this.$VideoPlayerUnitX3.release();}.bind(this));this.$VideoPlayerUnitX5=false;if(r.getClicked(ja.flash_id))this.$VideoPlayerUnitX5=true;this.$VideoPlayerUnitX6=ja.controller;this.$VideoPlayerUnitX6.setAdditionalLogDataGetter(new s(function(){return {autoplay_eligible:this.isAutoplayable()};}.bind(this)));if(this.$VideoPlayerUnitX6.isImplementationUnavailable())this.$VideoPlayerUnitX7();this.$VideoPlayerUnitX8();if(this.$VideoPlayerUnitX9('fallback'))return;if(this.$VideoPlayerUnitX5)this.$VideoPlayerUnitXa(ba.USER);this.$VideoPlayerUnitXb();r.unregister(this.$VideoPlayerUnitX0.flash_id);this.$VideoPlayerUnitX1.thumbnails.forEach(function(ka){this.$VideoPlayerUnitX3.addSubscriptions(l.listen(ka,'click',function(){return this.$VideoPlayerUnitXc();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX3.addSubscriptions(l.listen(this.$VideoPlayerUnitX1.play_icon,'click',function(){return this.$VideoPlayerUnitXc();}.bind(this)),n.registerBlocker(function(){return this.$VideoPlayerUnitX9('playing');}.bind(this)));if(this.$VideoPlayerUnitXd()){this.$VideoPlayerUnitX1.pivotThumbs.forEach(function(ka){this.$VideoPlayerUnitX3.addSubscriptions(l.listen(ka,'click',function(){this.$VideoPlayerUnitXe();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX3.addSubscriptions(l.listen(this.$VideoPlayerUnitX1.pivotNextText,'click',function(){this.$VideoPlayerUnitXc();}.bind(this)));this.$VideoPlayerUnitX3.addSubscriptions(l.listen(this.$VideoPlayerUnitX1.pivotReplayText,'click',function(){this.$VideoPlayerUnitXe();}.bind(this)));}}ha.prototype.isVisible=function(){"use strict";var ia=k.getViewportDimensions().height,ja=this.getDOMPosition();if(ja.height===0)return false;var ka=ja.y+(1-ca)*ja.height,la=ja.y+ca*ja.height;if(ka>=0&&la<ia)return true;return false;};ha.prototype.$VideoPlayerUnitX7=function(){"use strict";this.$VideoPlayerUnitXf(false,x.FLASH_UNAVAILABLE);};ha.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerUnitX0.viewport_autoplay&&!this.$VideoPlayerUnitXg;};ha.prototype.$VideoPlayerUnitXa=function(ia){"use strict";if(this.$VideoPlayerUnitX2){this.$VideoPlayerUnitX2=false;this.$VideoPlayerUnitX6.unmute();}this.$VideoPlayerUnitX6.play(ia);};ha.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerUnitX6.getCurrentTimePosition();};ha.prototype.$VideoPlayerUnitXh=function(){"use strict";this.$VideoPlayerUnitX6.pause('large_format');o.bootstrap(this.$VideoPlayerUnitX0.permalink_url);this.$VideoPlayerUnitX6.logEvent(u.ENTER_LARGE_FORMAT);aa(this.$VideoPlayerUnitX6.getVideoNode());};ha.prototype.playWithoutUnmute=function(ia){"use strict";this.$VideoPlayerUnitX6.play(ia);};ha.prototype.$VideoPlayerUnitXc=function(){"use strict";this.$VideoPlayerUnitXa(ba.USER);aa(this.$VideoPlayerUnitX6.getVideoNode());};ha.prototype.$VideoPlayerUnitXe=function(){"use strict";this.$VideoPlayerUnitX6.previousVideo();this.$VideoPlayerUnitXa(ba.USER);};ha.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerUnitX6.getVideoID();};ha.prototype.$VideoPlayerUnitXi=function(){"use strict";return this.$VideoPlayerUnitX6.getVideoIndex();};ha.prototype.$VideoPlayerUnitXj=function(){"use strict";this.$VideoPlayerUnitXk();};ha.prototype.$VideoPlayerUnitX8=function(){"use strict";var ia=[['expandVideo',function(){return this.$VideoPlayerUnitXl();}.bind(this)],['finishPlayback',function(){return this.$VideoPlayerUnitXm();}.bind(this)],['turnOffAutoplay',function(){return this.$VideoPlayerUnitXn();}.bind(this)],['unmuteVideo',function(){return this.$VideoPlayerUnitXo();}.bind(this)],['openLargeFormat',function(){return this.$VideoPlayerUnitXh();}.bind(this)],['stateChange',function(){return this.$VideoPlayerUnitXk();}.bind(this)],['switchVideo',function(){return this.$VideoPlayerUnitXj();}.bind(this)],['fallbackPlay',function(){return this.$VideoPlayerUnitXp();}.bind(this)],['buffered',function(){return this.$VideoPlayerUnitXk();}.bind(this)],['buffering',function(){return this.$VideoPlayerUnitXk();}.bind(this)]],ja=function(event){return this.emit.bind(this,event);}.bind(this);this.$VideoPlayerUnitX3.addSubscriptions.apply(this.$VideoPlayerUnitX3,ia.map(function(ka){return this.$VideoPlayerUnitX6.addListener.apply(this.$VideoPlayerUnitX6,ka);}.bind(this)).concat(t.map(function(event){return this.$VideoPlayerUnitX6.addListener(event,ja(event));}.bind(this))));};ha.prototype.logDisplayed=function(){"use strict";this.$VideoPlayerUnitX6.logEvent(u.DISPLAYED,{autoplay_reason:this.$VideoPlayerUnitX0.autoplay_reason});};ha.prototype.$VideoPlayerUnitXp=function(){"use strict";var ia={error:v.ENTERED_FALLBACK,error_description:"fallback_reason: "+this.$VideoPlayerUnitX4,state:w.PLAYBACK_FAILURE};this.$VideoPlayerUnitX6.logEvent(u.ERROR,ia);};ha.prototype.$VideoPlayerUnitXf=function(ia,ja){"use strict";ia=ia===undefined?true:ia;this.$VideoPlayerUnitX4=ja;this.$VideoPlayerUnitX6.setState('fallback');this.$VideoPlayerUnitX6.logEvent(u.ENTERED_FALLBACK,{reason:ja,flash_available:ia});};ha.prototype.$VideoPlayerUnitXb=function(){"use strict";setTimeout(function(){if(this.$VideoPlayerUnitX9('loading')){this.$VideoPlayerUnitXf(true,x.TIMEOUT);this.$VideoPlayerUnitX6.cancelPlayRequest();}}.bind(this),ea);};ha.prototype.$VideoPlayerUnitXl=function(){"use strict";y.bootstrapWithElement(this.$VideoPlayerUnitX1.video_container,this.$VideoPlayerUnitX6.getVideoNode());};ha.prototype.$VideoPlayerUnitXo=function(){"use strict";this.$VideoPlayerUnitXq();};ha.prototype.$VideoPlayerUnitXd=function(){"use strict";return this.$VideoPlayerUnitX6.getVideosCount()>1;};ha.prototype.$VideoPlayerUnitXm=function(){"use strict";if(this.$VideoPlayerUnitXd())this.$VideoPlayerUnitX6.nextVideo();this.$VideoPlayerUnitXq();this.$VideoPlayerUnitXr();};ha.prototype.handleFlashApiFactoryError=function(ia,ja){"use strict";ga.handleFlashApiFactoryError.call(this,ia,ja);this.$VideoPlayerUnitXf(true,x.FLASH_ERROR);};ha.prototype.$VideoPlayerUnitXr=function(){"use strict";this.$VideoPlayerUnitXg=true;};ha.prototype.$VideoPlayerUnitXn=function(){"use strict";this.$VideoPlayerUnitXr();};ha.prototype.$VideoPlayerUnitXk=function(){"use strict";this.$VideoPlayerUnitXs();this.$VideoPlayerUnitXt();this.$VideoPlayerUnitXu();this.$VideoPlayerUnitXv();this.$VideoPlayerUnitXw();this.$VideoPlayerUnitXx();};ha.prototype.getDOMPosition=function(){"use strict";return this.$VideoPlayerUnitX6.getDOMPosition();};ha.prototype.pause=function(ia){"use strict";this.$VideoPlayerUnitX6.pause(ia);};ha.prototype.$VideoPlayerUnitXs=function(){"use strict";if(this.$VideoPlayerUnitX9('fallback')){this.$VideoPlayerUnitX3.release();var ia=this.$VideoPlayerUnitX1;j.empty(this.$VideoPlayerUnitX6.getRootNode());j.appendContent(this.$VideoPlayerUnitX6.getRootNode(),ia.fallback_link);j.appendContent(ia.fallback_link,ia.thumbnails[this.$VideoPlayerUnitXi()]);j.appendContent(ia.fallback_link,ia.play_icon);}};ha.prototype.$VideoPlayerUnitXv=function(){"use strict";if(this.$VideoPlayerUnitX9('fallback')||(this.$VideoPlayerUnitX9('loading')&&!this.$VideoPlayerUnitX6.isPlayRequestPending()&&!this.$VideoPlayerUnitX5&&!this.isAutoplayable())||((this.$VideoPlayerUnitX9('ready')||this.$VideoPlayerUnitX9('paused'))&&!this.$VideoPlayerUnitX6.isPlayRequestPending())){i.addClass(this.$VideoPlayerUnitX1.play_icon,"_5vos");}else if(this.$VideoPlayerUnitX9('finished')){if(this.$VideoPlayerUnitX6.hasCTAEndscreen&&this.$VideoPlayerUnitX6.hasCTAEndscreen()){return;}else if(!this.$VideoPlayerUnitXd())i.addClass(this.$VideoPlayerUnitX1.play_icon,"_5vos");}else if(!this.$VideoPlayerUnitX9('finished')||!this.$VideoPlayerUnitXd()){i.removeClass(this.$VideoPlayerUnitX1.play_icon,"_5vos");i.removeClass(this.$VideoPlayerUnitX1.play_icon,"_5vov");}};ha.prototype.$VideoPlayerUnitXw=function(){"use strict";if(this.$VideoPlayerUnitX6.isBuffering()||(this.$VideoPlayerUnitX9('loading')&&(this.$VideoPlayerUnitX5||this.isAutoplayable()))||(this.$VideoPlayerUnitX9('ready')&&this.$VideoPlayerUnitX6.isPlayRequestPending())){i.show(this.$VideoPlayerUnitX1.spinner);}else i.hide(this.$VideoPlayerUnitX1.spinner);};ha.prototype.$VideoPlayerUnitXx=function(){"use strict";if(this.$VideoPlayerUnitX9('playing')||this.$VideoPlayerUnitX9('paused')){this.$VideoPlayerUnitX1.thumbnails.forEach(function(ia){i.hide(ia);});}else i.show(this.$VideoPlayerUnitX1.thumbnails[this.$VideoPlayerUnitXi()]);};ha.prototype.$VideoPlayerUnitXu=function(){"use strict";if(!this.$VideoPlayerUnitXd())return;var ia=this.$VideoPlayerUnitX1.pivotThumbs;ia.forEach(function(ka){i.removeClass(ka,"_5vlu");i.removeClass(ka,"_5vou");i.addClass(ka,"_5vot");});i.removeClass(this.$VideoPlayerUnitX1.pivotReplayText,"_5vm5");i.removeClass(this.$VideoPlayerUnitX1.pivotNextText,"_5vm5");if(this.$VideoPlayerUnitX9('finished')){var ja=ia[this.$VideoPlayerUnitXy()];i.removeClass(ja,"_5vot");i.addClass(ja,"_5vlu");setTimeout(function(){if(!this.$VideoPlayerUnitX9('finished'))return;i.addClass(ja,"_5vou");i.addClass(this.$VideoPlayerUnitX1.pivotReplayText,"_5vm5");i.addClass(this.$VideoPlayerUnitX1.pivotNextText,"_5vm5");i.addClass(this.$VideoPlayerUnitX1.play_icon,"_5vov");}.bind(this),da);}};ha.prototype.$VideoPlayerUnitXt=function(){"use strict";if(!this.$VideoPlayerUnitXd())return;var ia=this.$VideoPlayerUnitX1.story_footers;for(var ja=0;ja<ia.length;ja++)i.conditionShow(ia[ja],ja===this.$VideoPlayerUnitXi());};ha.prototype.$VideoPlayerUnitXz=function(){"use strict";var ia=this.$VideoPlayerUnitXA();return (this.$VideoPlayerUnitXi()+1)%ia;};ha.prototype.$VideoPlayerUnitXy=function(){"use strict";var ia=this.$VideoPlayerUnitXA();return (this.$VideoPlayerUnitXi()-1+ia)%ia;};ha.prototype.$VideoPlayerUnitXA=function(){"use strict";return this.$VideoPlayerUnitX6.getVideosCount();};ha.prototype.$VideoPlayerUnitXq=function(){"use strict";g.inform(h.FBVIDEO_CLICK,{attachment:this.$VideoPlayerUnitX1.video_container,fbvideo_id:this.$VideoPlayerUnitX0.video_ids[0]});};ha.prototype.$VideoPlayerUnitX9=function(ia){"use strict";return this.$VideoPlayerUnitX6.isState(ia);};e.exports=ha;},null);
__d("XVideoRhcControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/video\/righthandcolumn\/",{video_id:{type:"String",required:true}});},null);
__d("VideoRhcController",["AsyncRequest","CSS","DOMDimensions","DockingElement","Event","StickyRHC","SubscriptionsHandler","VideoPlayerReason","ViewportBounds","XVideoRhcControllerURIBuilder","destroyOnUnload","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=500,t=null;function u(){"use strict";this.$VideoRhcController0=null;this.$VideoRhcController1=new m();this.$VideoRhcController2=null;this.$VideoRhcController3=null;this.$VideoRhcController4=null;this.$VideoRhcController5=null;q(function(){if(this.$VideoRhcController5)this.$VideoRhcController5.remove();this.$VideoRhcController0=null;this.$VideoRhcController1.release();this.$VideoRhcController1=null;this.$VideoRhcController2=null;this.$VideoRhcController3=null;this.$VideoRhcController4.destroy();this.$VideoRhcController4=null;this.$VideoRhcController5=null;if(this===t)t=null;});}u.getInstance=function(){"use strict";if(t==null)t=new u();return t;};u.addRhcRootElement=function(v){"use strict";var w=u.getInstance();w.setRhcRootElement(v);};u.initRhcVideoUnit=function(v){"use strict";var w=u.getInstance();w.setRhcVideoUnit(v);};u.registerVideoUnit=function(v){"use strict";var w=u.getInstance();w.$VideoRhcController6();v.addListener('beginPlayback',function(x){return w.$VideoRhcController7(v,x.reason);});};u.prototype.setRhcRootElement=function(v){"use strict";this.$VideoRhcController2=v;this.$VideoRhcController4=new j(this.$VideoRhcController2);this.$VideoRhcController4.setOffset(o.getTop());};u.prototype.setRhcVideoUnit=function(v){"use strict";this.$VideoRhcController3=v;};u.prototype.$VideoRhcController7=function(v,w){"use strict";if(w!==n.USER)return;this.$VideoRhcController0=v;if(!this.$VideoRhcController0||!this.$VideoRhcController2)return;this.$VideoRhcController8();var x=new p().setString('video_id',this.$VideoRhcController0.getVideoID()).getURI();this.request=new g().setMethod('GET').setURI(x).setReadOnly(true).send();this.$VideoRhcController9();};u.prototype.$VideoRhcController9=function(){"use strict";this.$VideoRhcController1.release();this.$VideoRhcController1.engage();this.$VideoRhcController1.addSubscriptions.apply(this.$VideoRhcController1,['finishPlayback','pausePlayback'].map(function(event){return this.$VideoRhcController0.addListener(event,function(){this.$VideoRhcController1.release();this.$VideoRhcController0=null;}.bind(this));}.bind(this)));};u.prototype.$VideoRhcController6=function(){"use strict";if(this.$VideoRhcController5)return;this.$VideoRhcController5=k.listen(window,'scroll',r(this.$VideoRhcControllera.bind(this),s));};u.prototype.$VideoRhcController8=function(){"use strict";var v=i.getElementDimensions(this.$VideoRhcController2).height;if(this.$VideoRhcController2)h.hide(this.$VideoRhcController2);l.getInstances().forEach(function(w){w.setOffset(w.getOffset()-v);});if(this.$VideoRhcController3)this.$VideoRhcController3.pause(n.PAGE_VISIBILITY);};u.prototype.$VideoRhcControllerb=function(){"use strict";if(!this.$VideoRhcController2||h.shown(this.$VideoRhcController2))return;if(this.$VideoRhcController3&&this.$VideoRhcController0){this.$VideoRhcController3.play(n.PAGE_VISIBILITY);this.$VideoRhcController3.once('beginPlayback',function(){this.$VideoRhcController3.seek(this.$VideoRhcController0.getCurrentTimePosition());this.$VideoRhcController0.pause(n.PAGE_VISIBILITY);}.bind(this));h.show(this.$VideoRhcController2);}l.getInstances().forEach(function(v){v.setOffset(v.getOffset()+i.getElementDimensions(this.$VideoRhcController2).height);}.bind(this));};u.prototype.$VideoRhcControllera=function(){"use strict";if(this.$VideoRhcController0&&this.$VideoRhcController2&&!this.$VideoRhcController0.isVisible())this.$VideoRhcControllerb();};e.exports=u;},null);
__d("VideoFeedRegister",["VideoAutoplayControllerX","VideoPlayerUnitX","VideoRhcController"],function(a,b,c,d,e,f,g,h,i){var j='video_watch_and_scroll',k={registerVideoUnit:function(l,m,n){var o=new h(l,m);g.registerVideoUnit(o);if(n[j])i.registerVideoUnit(o);}};e.exports=k;},null);
__d("VideoCTAEndscreen",["CSS","DOM","Event","VideoPlayerReason","SubscriptionsHandler","VideoPlayerLoggerEvents","VideoPlayerReason","csx","logVideosClickTracking"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(q,r){"use strict";this.$VideoCTAEndscreen0=q;this.$VideoCTAEndscreen1=r.endscreenElement;this.$VideoCTAEndscreen2=r.replayElement||h.find(this.$VideoCTAEndscreen1,"._5j_6");this.$VideoCTAEndscreen3=new k();if(this.$VideoCTAEndscreen2!=null)this.$VideoCTAEndscreen3.addSubscriptions(i.listen(this.$VideoCTAEndscreen2,'click',function(){return this.$VideoCTAEndscreen4();}.bind(this)));this.$VideoCTAEndscreen3.addSubscriptions(q.addListener('finishPlayback',function(){return this.$VideoCTAEndscreen5();}.bind(this)),q.addListener('beginPlayback',function(){return this.$VideoCTAEndscreen6();}.bind(this)));}p.prototype.$VideoCTAEndscreen4=function(){"use strict";var q={reason:j.USER};this.$VideoCTAEndscreen0.logEvent(l.REPLAYED,q);o(this.$VideoCTAEndscreen0.getVideoNode());this.$VideoCTAEndscreen0.play(m.USER);};p.prototype.$VideoCTAEndscreen5=function(){"use strict";g.show(this.$VideoCTAEndscreen1);};p.prototype.$VideoCTAEndscreen6=function(){"use strict";g.hide(this.$VideoCTAEndscreen1);};e.exports=p;},null);
__d("VideosRenderingInstrumentation",["DataStore"],function(a,b,c,d,e,f,g){var h={storeRenderTime:function(i){var j=Date.now();g.set(i,'videos_rendering_instrumentation',j);return j;},retrieveRenderTime:function(i){var j=g.get(i,'videos_rendering_instrumentation',NaN);if(Number.isNaN(j))j=h.storeRenderTime(i);return j;}};e.exports=h;},null);
__d("VideoPlayerController",["Banzai","DOMDimensions","EventEmitter","Flash","ScriptPath","SubscriptionsHandler","VideoCTAEndscreen","VideoPlayerApiEvents","VideoPlayerApiFactory","VideoPlayerLogger","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvents","VideoPlayerInitializationEvents","VideoPlayerVersions","VideosRenderingInstrumentation","VideoPlayerReason","arrayContains","collectDataAttributes","emptyFunction","getElementPosition","invariant","logVideosClickTracking","mergeInto"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){for(var ea in i)if(i.hasOwnProperty(ea))ga[ea]=i[ea];var fa=i===null?null:i.prototype;ga.prototype=Object.create(fa);ga.prototype.constructor=ga;ga.__superConstructor__=i;function ga(ha,ia){"use strict";var ja=ha.video_id,ka=ha.video_ids,la=ha.source,ma=ha.ad_client_token,na=ha.should_autoplay,oa=ha.player_version,pa=ha.autoplay_setting,qa=ha.additional_logdata_getter,ra=ha.apiModule,sa=ia.root_element,ta=ia.cta_endscreen,ua=ia.cta_replay_element,va=ia.video_element;fa.constructor.call(this);this.$VideoPlayerController0=0;this.$VideoPlayerController1=na;this.$VideoPlayerController2=pa;this.$VideoPlayerController3=ma;this.$VideoPlayerController4=oa;this.$VideoPlayerController5=va;this.$VideoPlayerController6=sa;this.$VideoPlayerController7=false;this.$VideoPlayerController8=ja;this.$VideoPlayerController9=ka||[ja];this.$VideoPlayerControllera=qa||{get:z};this.$VideoPlayerControllerb=ra;this.$VideoPlayerControllerc=null;this.$VideoPlayerControllerd=null;this.$VideoPlayerControllere=new p(la);this.$VideoPlayerControllere.setFTData(y(this.getRootNode(),['ft']));this.$VideoPlayerControllere.setScriptPath(k.getScriptPath());this.logEvent(t.PLAYER_INITIALIZATION,{time_ms:v.retrieveRenderTime(this.$VideoPlayerController6)});this.$VideoPlayerControllerf=false;this.setState('loading');if(this.isImplementationUnavailable()){this.$VideoPlayerControllerg();return;}if(ta)this.$VideoPlayerControllerh=new m(this,{endscreenElement:ta,replayElement:ua});this.$VideoPlayerControlleri();g.subscribe(g.SHUTDOWN,function(){this.logStopForUnload();}.bind(this));if(this.$VideoPlayerController1)this.play(w.AUTOPLAY);}ga.prototype.setAdditionalLogDataGetter=function(ha){"use strict";this.$VideoPlayerControllera=ha;};ga.prototype.$VideoPlayerControlleri=function(){"use strict";if(this.$VideoPlayerControllerb){this.$VideoPlayerControllerb.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));}else o.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};ga.prototype.logStopForUnload=function(){"use strict";if(this.$VideoPlayerControllerc!==null&&this.$VideoPlayerControllerd!==null){var ha={reason:'unloaded',video_time_position:this.$VideoPlayerControllerc,video_last_start_time_position:this.$VideoPlayerControllerd};if(this.getOriginalPlayReason())ha.original_play_reason=this.getOriginalPlayReason();this.logEvent(s.PAUSED,ha);this.resetPositions();}else this.cancelPlayRequest();};ga.prototype.hasCTAEndscreen=function(){"use strict";return !!this.$VideoPlayerControllerh;};ga.prototype.isImplementationUnavailable=function(){"use strict";if(this.$VideoPlayerControllerb)return this.$VideoPlayerControllerb.isImplementationUnavailable();return !this.isPlayerVersion(u.HTML5)&&!j.isAvailable();};ga.prototype.$VideoPlayerControllerg=function(){"use strict";var ha={error:q.ERROR_CALLING_FLASH,state:r.PLAYER_FAILURE};this.logEvent(s.ERROR,ha);this.$VideoPlayerController1=false;};ga.prototype.handleFlashApiFactoryError=function(ha,ia){"use strict";var ja={error:q.ERROR_CALLING_FLASH,error_description:ha.message,state:ia?r.PLAYBACK_FAILURE:r.PLAYER_FAILURE};this.logEvent(s.ERROR,ja);if(ia&&this.$VideoPlayerControllerf)this.$VideoPlayerControllerf=false;};ga.prototype.isPlayRequestPending=function(){"use strict";return this.$VideoPlayerControllerf;};ga.prototype.play=function(ha){"use strict";if(!this.$VideoPlayerControllerj)this.$VideoPlayerControllerj=ha;if(!this.$VideoPlayerControllerf){var ia=this.$VideoPlayerControllerk({reason:ha});this.logEvent(s.REQUESTED_PLAYING,ia);}this.sendPlayRequest(ha);};ga.prototype.sendPlayRequest=function(ha){"use strict";if(this.isState('fallback')){this.emit('fallbackPlay');return;}this.$VideoPlayerControllerf=true;if(this.isState('loading')){this.$VideoPlayerControllerl={reason:ha};}else this.getVideoAPI().play(ha);};ga.prototype.getOriginalPlayReason=function(){"use strict";return this.$VideoPlayerControllerj;};ga.prototype.reset=function(){"use strict";if(this.isState('loading')||this.isState('fallback'))return;this.resetPositions();this.$VideoPlayerControllerm();this.$VideoPlayerControllern=null;this.setState('loading');this.$VideoPlayerControlleri();};ga.prototype.cancelPlayRequest=function(){"use strict";if(this.$VideoPlayerControllerf){var ha={reason:this.getOriginalPlayReason()};this.$VideoPlayerControllerf=false;this.logEvent(s.CANCELLED_REQUESTED_PLAYING,ha);}};ga.prototype.getVideoAPI=function(){"use strict";return this.$VideoPlayerControllern;};ga.prototype.getVideoNode=function(){"use strict";return this.$VideoPlayerController5;};ga.prototype.getRootNode=function(){"use strict";return this.$VideoPlayerController6;};ga.prototype.onApiReady=function(ha){"use strict";this.$VideoPlayerControllern=o.create(this.getVideoNode(),this.handleFlashApiFactoryError.bind(this));this.setState('ready');this.logEvent(t.PLAYER_ALLOCATED);this.$VideoPlayerControllero();this.setFTDataForCasablanca();this.setScriptPathForCasablanca();if(this.$VideoPlayerControllerl){this.sendPlayRequest(this.$VideoPlayerControllerl.reason);this.$VideoPlayerControllerl=null;}if(this.$VideoPlayerControllerp){this.getVideoAPI().unmute();this.$VideoPlayerControllerp=null;}var ia={is_auto_played:this.isAutoplayable()};if(ha)ia.init_delay=ha;this.logEvent(s.PLAYER_LOADED,ia);};ga.prototype.resetPositions=function(){"use strict";this.$VideoPlayerControllerc=null;this.$VideoPlayerControllerd=null;};ga.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerControllerc;};ga.prototype.$VideoPlayerControllerq=function(ha){"use strict";this.$VideoPlayerControllerf=false;if(ha!==undefined)this.$VideoPlayerControllerd=ha;this.setState('playing');};ga.prototype.$VideoPlayerControllerr=function(ha){"use strict";if(ha!==undefined)this.$VideoPlayerControllerc=ha;};ga.prototype.$VideoPlayerControllers=function(ha){"use strict";var event=ha.event;delete ha.event;this.logEvent(event,ha);};ga.prototype.$VideoPlayerControllert=function(){"use strict";this.resetPositions();if(!this.isState('finished'))this.setState('paused');};ga.prototype.$VideoPlayerControlleru=function(){"use strict";this.resetPositions();this.setState('finished');};ga.prototype.getVideosCount=function(){"use strict";return this.$VideoPlayerController9.length;};ga.prototype.$VideoPlayerControllerv=function(){"use strict";var ha=this.getVideosCount();return (this.$VideoPlayerController0+1)%ha;};ga.prototype.$VideoPlayerControllerw=function(){"use strict";var ha=this.getVideosCount();return (this.$VideoPlayerController0-1+ha)%ha;};ga.prototype.$VideoPlayerControllerx=function(ha){"use strict";this.logEvent(s.CAROUSEL_CHANGE,{source_index:this.$VideoPlayerController0,target_index:ha});this.getVideoAPI().switchVideo(ha);this.$VideoPlayerController0=ha;this.emit('switchVideo');};ga.prototype.unmute=function(){"use strict";if(!this.isState('loading')){this.getVideoAPI().unmute();}else this.$VideoPlayerControllerp=true;};ga.prototype.nextVideo=function(){"use strict";this.$VideoPlayerControllerx(this.$VideoPlayerControllerv());};ga.prototype.previousVideo=function(){"use strict";this.$VideoPlayerControllerx(this.$VideoPlayerControllerw());};ga.prototype.getVideoIndex=function(){"use strict";return this.$VideoPlayerController0;};ga.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerController9[this.getVideoIndex()];};ga.prototype.$VideoPlayerControllero=function(){"use strict";var ha=this.$VideoPlayerControllern;this.$VideoPlayerControllery=new l();var ia=[['buffered',function(){return this.setBuffering(false);}.bind(this)],['buffering',function(){return this.setBuffering(true);}.bind(this)],['beginPlayback',function(ka){return this.$VideoPlayerControllerq(ka.position);}.bind(this)],['updateStatus',function(ka){return this.$VideoPlayerControllerr(ka.position);}.bind(this)],['logEvent',function(ka){return this.$VideoPlayerControllers(ka.logData);}.bind(this)],['pausePlayback',function(){return this.$VideoPlayerControllert();}.bind(this)],['clickForTracking',function(){return ca(this.getVideoNode());}.bind(this)],['finishPlayback',function(){return this.$VideoPlayerControlleru();}.bind(this)]],ja=function(event){return this.emit.bind(this,event);}.bind(this);this.$VideoPlayerControllery.addSubscriptions.apply(this.$VideoPlayerControllery,ia.map(function(ka){return ha.addListener.apply(ha,ka);}).concat(n.map(function(event){return ha.addListener(event,ja(event));})));};ga.prototype.$VideoPlayerControllerm=function(){"use strict";if(this.$VideoPlayerControllery)this.$VideoPlayerControllery.release();};ga.prototype.seek=function(ha){"use strict";this.getVideoAPI().seek(ha);};ga.prototype.pause=function(ha){"use strict";if(this.isState('loading')){this.$VideoPlayerControllerl=null;}else if(this.isState('playing')){this.getVideoAPI().pause(ha);this.setState('paused');}else if(this.isState('ready'))this.getVideoAPI().pause(ha);this.cancelPlayRequest();};ga.prototype.isPlayerVersion=function(ha){"use strict";return this.$VideoPlayerController4===ha;};ga.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerController1;};ga.prototype.isBuffering=function(){"use strict";return this.$VideoPlayerController7;};ga.prototype.setBuffering=function(ha){"use strict";if(ha!==this.$VideoPlayerController7){this.$VideoPlayerController7=ha;if(this.$VideoPlayerController7){this.$VideoPlayerControllere.startBuffering();}else this.$VideoPlayerControllere.endBuffering();}};ga.prototype.getDOMPosition=function(){"use strict";return aa(this.getRootNode());};ga.prototype.$VideoPlayerControllerz=function(){"use strict";var ha=this.getDOMPosition(),ia=h.getViewportDimensions().height,ja=null;if(ha.y<=0){ja=ha.y;}else if(ha.y+ha.height<ia){ja=0;}else ja=ha.y+ha.height-ia;return {viewport_distance:ja,unit_height:ha.height};};ga.prototype.$VideoPlayerControllerA=function(){"use strict";return da(Object.assign({},this.$VideoPlayerControllerz(),{ad_client_token:this.$VideoPlayerController3,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController2,player_version:this.$VideoPlayerController4,video_id:this.getVideoID(),player_state:this.$VideoPlayerControllerB}),this.$VideoPlayerControllera.get());};ga.prototype.$VideoPlayerControllerC=function(){"use strict";if(this.isState('loading'))return null;return this.getVideoAPI().getVideoInfo();};ga.prototype.$VideoPlayerControllerk=function(ha){"use strict";var ia=this.$VideoPlayerControllerC();if(ia!=null)return da({resource_url:ia.urlRequest.url,hls:ia.isHLS,hd:ia.isHD},ha);return ha;};ga.prototype.logEvent=function(event,ha){"use strict";var ia=da(this.$VideoPlayerControllerA(),ha);this.$VideoPlayerControllere.logEvent(event,ia);};ga.prototype.setFTDataForCasablanca=function(){"use strict";if(this.isPlayerVersion(u.CASABLANCA)){var ha=y(this.getRootNode(),['ft']);this.getVideoAPI().setFTData(JSON.stringify(ha.ft));}};ga.prototype.setScriptPathForCasablanca=function(){"use strict";if(this.isPlayerVersion(u.CASABLANCA))this.getVideoAPI().setScriptPath(k.getScriptPath());};ga.prototype.setState=function(ha){"use strict";if(this.isState('fallback'))return;this.$VideoPlayerControllerB=ha;if(this.$VideoPlayerControllerB==='fallback')this.$VideoPlayerControllerm();this.emit('stateChange');};ga.prototype.isState=function(ha){"use strict";return this.$VideoPlayerControllerB===ha;};ga.playerStates=['finished','loading','paused','playing','ready','fallback'];e.exports=ga;},null);